import{j as a,u as N}from"./index-WbHCIC1x.js";import{r as m}from"./index-4g5l5LRQ.js";import{a as j}from"./axios-ivWSt1AI.js";import{u as _,a as S}from"./index-TdrZkoWc.js";import{T as w}from"./Table-R3docsH2.js";import"./index-qTf6isfD.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./assertThisInitialized-tootN13f.js";import"./index-6eRX67e1.js";import"./LeftOutlined-g_5kZHO-.js";import"./addEventListener-tNo-8mKl.js";import"./index-faFMK7EB.js";import"./index-1K3BraxT.js";import"./EyeOutlined-ADbNBrXn.js";const g=async(n,s,o,r)=>{if(n)return await j.get(`http://localhost:8080/api/trip/tripList?page=${s}&sortType=${o}&keyWord=${r}`,{headers:{Authorization:`Bearer ${n}`}});throw new Error("Token is Not Defined")},l=({totalPage:n})=>{const s=Array.from({length:n},(o,r)=>r+1);return a.jsx("div",{children:a.jsx("nav",{children:s.map(o=>o)})})};try{l.displayName="Pagination",l.__docgenInfo={description:"",displayName:"Pagination",props:{totalPage:{defaultValue:null,description:"",name:"totalPage",required:!0,type:{name:"number"}}}}}catch{}function T(){const n=_(),s=S(),o=N(e=>e.token.token),i=new URLSearchParams(s.search).get("keyword"),[h,k]=m.useState([]),c=e=>{const t=`/search/${e}`;n(t)},x=async()=>{if(i){const e=encodeURIComponent(i);return g(o,0,"new",e)}else return g(o,0,"new","")},f=async()=>{const e=await x();k(e.data.content)};m.useEffect(()=>{f()},[i]);const D=[{title:"일정 제목",dataIndex:"title",key:"title",render:(e,t)=>a.jsx("span",{onClick:()=>c(t.key),className:"list-key",children:e})},{title:"마감날짜",dataIndex:"deadline",key:"deadline",render:(e,t)=>a.jsx("span",{onClick:()=>c(t.key),className:"list-key",children:e})},{title:"인원 수",dataIndex:"participants",key:"participants",render:(e,t)=>a.jsx("span",{onClick:()=>c(t.key),className:"list-key",children:e})},{title:"일정 날짜",dataIndex:"date",key:"date",render:(e,t)=>a.jsx("span",{onClick:()=>c(t.key),className:"list-key",children:e})}],P=h.map(e=>({title:e.title?e.title:"",deadline:e.goingDate&&e.comingDate?e.goingDate<e.comingDate?e.goingDate:e.comingDate:"",participants:e.currentNum&&e.recruitNum?e.currentNum+" / "+e.recruitNum:"",date:e.goingDate&&e.comingDate?e.goingDate<e.comingDate?e.goingDate+" ~ "+e.comingDate:e.comingDate+" ~ "+e.goingDate:""}));return a.jsxs("div",{children:[a.jsx(w,{columns:D,dataSource:P,pagination:!1}),a.jsx(l,{totalPage:5})]})}const G={component:T},d={args:{}};var p,u,y;d.parameters={...d.parameters,docs:{...(p=d.parameters)==null?void 0:p.docs,source:{originalSource:`{
  args: {}
}`,...(y=(u=d.parameters)==null?void 0:u.docs)==null?void 0:y.source}}};const M=["SearchPageStory"];export{d as SearchPageStory,M as __namedExportsOrder,G as default};
